import { Meta, Story, Preview, Props } from "@storybook/addon-docs/blocks";
import { genColumns, genDataSource } from "../../utils/data/dataGenerators";

import {
  withKnobs,
  text,
  boolean,
  number,
  select
} from "@storybook/addon-knobs";

import Table from "./";

<Meta
  title="Components/Tables/Table"
  component={Table}
  decorators={[withKnobs]}
/>

# Table

Компонент `Table`.

Базовый компонент: [**antd/table**](https://ant.design/components/table/).

## Sandbox

<Preview>
  <Story name="Sandbox">
    {() => {
      const columnsCount = number("columns count", 5);
      const dataCount = number("data count", 100);
      //
      const sortable = boolean("sortable", true);
      const multipleSorting = boolean("multipleSorting", false);
      //
      const columns = genColumns(columnsCount);
      const dataSource = genDataSource(dataCount, columns);
      //
      columns[1] = {
        title: "asdasdasdasd",
        children: [
          {
            title: "Tesasdasdasdasdasdasdasdasdasdasdasdasdasdasdt",
            children: [columns.pop(), columns.pop()]
          }
        ]
      };
      columns[0].fixed = "left";
      columns[0].filters = [
        {
          text: "Joe",
          value: "Joe"
        },
        {
          text: "Jim",
          value: "Jim"
        },
        {
          text: "Submenu",
          value: "Submenu",
          children: [
            {
              text: "Green",
              value: "Green"
            },
            {
              text: "Black",
              value: "Black"
            }
          ]
        }
      ];
      //
      return (
        <Table
          height="450px"
          columns={columns}
          sortable={sortable}
          dataSource={dataSource}
          multipleSorting={multipleSorting}
        />
      );
    }}
  </Story>
</Preview>

## Basic

<Preview>
  <Story name="Basic">
    {() => {
      const dataSource = [
        {
          key: "1",
          name: "Mike",
          age: 32,
          address: "10 Downing Street"
        },
        {
          key: "2",
          name: "John",
          age: 42,
          address: "10 Downing Street"
        },
        {
          key: "3",
          name: "Leo",
          age: 31,
          address: "10 Downing Street"
        },
        {
          key: "4",
          name: "Tahir",
          age: 18,
          address: "Novoselitsa"
        },
        {
          key: "4",
          name: "Nikita",
          age: 19,
          address: "In Nastia"
        },
        {
          key: "5",
          name: "Pasha",
          age: 20,
          address: "Planohero"
        }
      ];
      //
      const columns = [
        {
          title: "Name",
          dataIndex: "name",
          key: "name"
        },
        {
          title: "Age",
          dataIndex: "age",
          key: "age"
        },
        {
          title: "Address",
          dataIndex: "address",
          key: "address"
        }
      ];
      //
      return <Table columns={columns} dataSource={dataSource} />;
    }}
  </Story>
</Preview>

<Props of={Table} />
